global:
  hosts:
    domain: home.railguncnr.com
    https: true

  edition: ce

  # Sadece GitLab core component'larina uygulanir (webservice, sidekiq, gitaly vs.)
  # Sub-chart'lar (postgresql, redis, minio) multi-arch oldugu icin etkilenmez
  nodeSelector:
    kubernetes.io/arch: amd64

  ingress:
    enabled: true
    class: nginx
    configureCertmanager: false
    tls:
      enabled: true
      secretName: gitlab-tls
    annotations:
      cert-manager.io/cluster-issuer: letsencrypt-prod

  initialRootPassword:
    secret: gitlab-initial-root-password
    key: password

prometheus:
  install: false

installCertmanager: false

nginx-ingress:
  enabled: false

registry:
  enabled: false

gitlab-runner:
  install: false

gitlab:
  webservice:
    resources:
      requests:
        cpu: 250m
        memory: 1Gi
      limits:
        cpu: 1
        memory: 2Gi
    minReplicas: 1
    maxReplicas: 1
  sidekiq:
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
    minReplicas: 1
    maxReplicas: 1
  gitaly:
    resources:
      requests:
        cpu: 100m
        memory: 256Mi
      limits:
        cpu: 500m
        memory: 512Mi
  gitlab-shell:
    resources:
      requests:
        cpu: 25m
        memory: 32Mi
      limits:
        cpu: 100m
        memory: 128Mi
    minReplicas: 1
    maxReplicas: 1
  toolbox:
    resources:
      requests:
        cpu: 25m
        memory: 64Mi
      limits:
        cpu: 100m
        memory: 256Mi

postgresql:
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

redis:
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 256Mi

minio:
  resources:
    requests:
      cpu: 50m
      memory: 64Mi
    limits:
      cpu: 200m
      memory: 256Mi
